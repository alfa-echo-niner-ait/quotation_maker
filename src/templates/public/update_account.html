{% extends "layout/layout_public.html" %}

{% block content %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb breadcrumb-chevron p-3 bg-body-tertiary rounded-3">
        <li class="breadcrumb-item">
            <a class="link-body-emphasis fw-semibold text-decoration-none" href="{{ url_for('public.dashboard') }}">
                Dashboard
            </a>
        </li>
        <li class="breadcrumb-item active">
            Update Account
        </li>
    </ol>
</nav>

<div class="row">
    <div class="col-md-6">
        <form action="{{ url_for('public.update_account_handler') }}" method="post">
            {{ form.hidden_tag() }}
            <div class="fs-4 mb-3">Account Details</div>
            <!-- Name -->
            <div class="input-group mb-3">
                <div class="input-group-text fs-3 fw-bold">
                    <i class="bi bi-person-fill-exclamation"></i>
                    <sup class="text-danger">*</sup>
                </div>
                {% if form.name.errors %}
                {{ form.name(class='form-control is-valid', placeholder='Enter your name')}}
                <div class="invalid-feedback">
                    {% for error in form.name.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.name(class='form-control', placeholder='Enter your name')}}
                {% endif %}
            </div>
            <!-- Email -->
            <div class="input-group mb-3">
                <div class="input-group-text fs-3 fw-bold">
                    <i class="bi bi-envelope-at-fill"></i>
                    <sup class="text-danger">*</sup>
                </div>
                {% if form.email.errors %}
                {{ form.email(class='form-control is-valid', placeholder='Enter your email address')}}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.email(class='form-control', placeholder='Enter your email address')}}
                {% endif %}
            </div>
            <!-- Phone -->
            <div class="input-group mb-3">
                <div class="input-group-text fs-3 fw-bold">
                    <i class="bi bi-telephone-fill"></i>
                    <sup class="text-danger">*</sup>
                </div>
                <div class="input-group-text fs-6 fw-bold">
                    ðŸ‡¨ðŸ‡³ +86
                </div>
                {% if form.phone.errors %}
                {{ form.phone(class='form-control is-valid', placeholder='Enter your phone number')}}
                <div class="invalid-feedback">
                    {% for error in form.phone.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.phone(class='form-control', placeholder='Enter your phone number')}}
                {% endif %}
            </div>
            <div class="fs-4 mb-3">Change Password</div>
            <!-- Current Password -->
            <div class="input-group mb-3">
                <div class="input-group-text fs-3 fw-bold">
                    <i class="bi bi-key-fill"></i>
                </div>
                {% if form.current_password.errors %}
                {{ form.current_password(class='form-control is-valid', placeholder='Enter current password')}}
                <div class="invalid-feedback">
                    {% for error in form.current_password.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.current_password(class='form-control', placeholder='Enter current password')}}
                {% endif %}
            </div>
            <!-- New Password -->
            <div class="input-group mb-3">
                <div class="input-group-text fs-3 fw-bold">
                    <i class="bi bi-key-fill"></i>
                </div>
                {% if form.new_password.errors %}
                {{ form.new_password(class='form-control is-valid', placeholder='Enter new password')}}
                <div class="invalid-feedback">
                    {% for error in form.new_password.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.new_password(class='form-control', placeholder='Enter new password')}}
                {% endif %}
            </div>
            <!-- Submit -->
            {{ form.submit(class='btn btn-primary w-100 rounded-5 fw-semibold py-2 mt-3 mb-3')}}
        </form>
    </div>
</div>
{% endblock content %}